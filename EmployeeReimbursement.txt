CREATE
*******
----------CREATE-----------
CREATE TABLE ERS_USER_ROLES(
	ID SERIAL PRIMARY KEY, 
	USER_ROLE VARCHAR 2(10) NOT NULL);


CREATE TABLE ERS_USERS(
	id SERIAL PRIMARY KEY, 
	ERS_USERNAME VARCHAR (50) NOT NULL,
        ERS_PASSWORD VARCHAR (50) NOT NULL,
	USER_FIRSTNAME VARCHAR (100) NOT NULL,
	USER_LASTNAME VARCHAR (100) NOT NULL,
	USER_EMAIL VARCHAR (150) NOT NULL,
	USER_ROLE_ID INTEGER NOT NULL,
	CONSTRAINT fk_USER_ROLE FOREIGN KEY(USER_ROLE_ID ) REFERENCES ERS_USER_ROLES(id) on delete cascade);

  String sql = "SELECT assignments.id as assignment_id, assignment_name, grade, student_user.id as student_id, student_user.username as student_username, student_user.password as student_password, grader_user.id as grader_id, grader_user.username as grader_username, grader_user.password as grader_password " +
                    "FROM assignments " +
                    "LEFT JOIN users student_user " +
                    "ON student_user.id = assignments.student_id " +
                    "LEFT JOIN users grader_user " +
                    "ON grader_user.id = assignments.grader_id";


CREATE TABLE ERS_REIMB_TYPE(
	id SERIAL PRIMARY KEY, 
	REIMB_TYPE VARCHAR (10) NOT null)
	
	CREATE TABLE ERS_REIMB_STATUS(
	id SERIAL PRIMARY KEY, 
	REIMB_STATUS VARCHAR (10) NOT null)

CREATE TABLE ERS_REIMB(
	id SERIAL PRIMARY KEY, 
	REIMB_AMOUNT INTEGER NOT NULL,
    REIMB_SUBMITTED TIMESTAMP,
	REIMB_RESOLVED TIMESTAMP,
	REIMB_DESC VARCHAR(250),
	REIMB_RECEIPT BYTEA,
	REIMB_AUTHOR INTEGER,
	REIMB_RESOLVER INTEGER,
	REIMB_STATUS_ID INTEGER,
	REIMB_TYPE_ID INTEGER ,
	CONSTRAINT fk_REIMB_AUTHOR FOREIGN KEY(REIMB_AUTHOR) REFERENCES ERS_USERS(id),
	CONSTRAINT fk_REIMB_RESOLVER FOREIGN KEY(REIMB_RESOLVER) REFERENCES ERS_USERS(id),
	CONSTRAINT fk_REIMB_STATUS FOREIGN KEY(REIMB_STATUS_ID) REFERENCES ERS_REIMB_STATUS(id),
	CONSTRAINT fk_REIMB_TYPE FOREIGN KEY(REIMB_TYPE_ID) REFERENCES ERS_REIMB_TYPE(id));	
	


INSERT INTO ERS_USER_ROLES (USER_ROLE)
VALUES ('MANAGER'),
('EMPLOYEE');

INSERT INTO ERS_USER_ROLES (USER_ROLE)
VALUES ('MANAGER'),
('EMPLOYEE');
select * from ERS_USER_ROLES;

INSERT INTO ERS_USERS (ERS_USERNAME,ERS_PASSWORD,USER_FIRSTNAME,USER_LASTNAME,USER_EMAIL,USER_ROLE_ID)
VALUES ('soma','soma123','soma','jan','soma.j18@gmail.com',1);
INSERT INTO ERS_USERS (ERS_USERNAME,ERS_PASSWORD,USER_FIRSTNAME,USER_LASTNAME,USER_EMAIL,USER_ROLE_ID)
VALUES ('nikhil','nikhil123','nikhil','mp','nikhil@gmail.com',1);AD
INSERT INTO ERS_USERS (ERS_USERNAME,ERS_PASSWORD,USER_FIRSTNAME,USER_LASTNAME,USER_EMAIL,USER_ROLE_ID)
VALUES ('neithan','neithan123','neithan','ns','nate@gmail.com',1);
INSERT INTO ERS_USERS (ERS_USERNAME,ERS_PASSWORD,USER_FIRSTNAME,USER_LASTNAME,USER_EMAIL,USER_ROLE_ID)
VALUES ('lixy','lixy321','lixy','eldho','lixy@gmail.com',2);
INSERT INTO ERS_USERS (ERS_USERNAME,ERS_PASSWORD,USER_FIRSTNAME,USER_LASTNAME,USER_EMAIL,USER_ROLE_ID)
VALUES ('eldho','eldho321','eldho','mat','eldho@gmail.com',2);

select * from ERS_USERS;
admin
select ERS_USERS.ERS_USERNAME,ERS_USERS.ERS_PASSWORD,ERS_USERS.user_firstname ,ERS_USERS.user_lastname ,ERS_USERS.user_email ,ERS_USER_ROLES.user_role from ERS_USERS inner join ERS_USER_ROLES on ERS_USERS.user_role_id = ERS_USER_ROLES.id where 
ERS_USERS.ers_username ='soma' and ERS_USERS.ers_password ='soma123' ;
